/* ==========================================================================
#FEATURES
========================================================================== */

.features {
    .wrapper {
        padding-right: 0;
        padding-left: 0;
    }
    .title {
        margin-bottom: rem-calc(64);
    }
    .wrapper--grid {
        // Grid block
        .grid__block {
            border-top: rem-calc(1) solid $border-color;
            position: relative;
            perspective: 600px;
            @media #{$md-and-down} {
                &.flipped {
                    .grid__block--front-face {
                        transform: rotateX(180deg);
                    }
                    .grid__block--back-face {
                        transform: rotateX(0);
                    }
                }
            }
            @media #{$lg-and-up} {
                &:hover {
                    .grid__block--front-face {
                        transform: rotateX(180deg);
                    }
                    .grid__block--back-face {
                        transform: rotateX(0);
                    }
                }
            }
            &:last-child {
                border-bottom: rem-calc(1) solid $border-color;
            }
            @media #{$md-and-up} {
                border-left: rem-calc(1) solid $border-color;
                &:last-child {
                    border-right: rem-calc(1) solid $border-color;
                }
                &:nth-last-child(2) {
                    border-bottom: rem-calc(1) solid $border-color;
                }
            }
            @media #{$lg-and-up} {
                &:nth-child(3) {
                    border-right: rem-calc(1) solid $border-color;
                }
            }
        }
        // Sides
        .grid__block--back-face ,
        .grid__block--front-face {
            transition: all .4s ease-in-out;
            transform-style: preserve-3d;
            backface-visibility: hidden;
            background-color: white;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: absolute;
            padding-right: $size-xl;
            padding-left: $size-xl;
            @media #{$xl-and-up} {
                padding-right: rem-calc(60);
                padding-left: rem-calc(60);
            }
        }
        .grid__block--front-face {
            transform: rotateX(0);
            z-index: 2;
        }
        .grid__block--back-face {
            background-color: $grey-lighter;
            transform: rotateX(-180deg);
            z-index: 1;

            .wrapper--icon {
                height: auto;
            }
        }
        // Sides
        // @Grid block

        .wrapper--icon {
            background-color: $grey-lighter;
            border-radius: rem-calc(36);
            margin-bottom: $size-l;
        }

        .title {
            margin-bottom: $size-xs;
        }

        .description {
            text-align: center;
        }
    }
}
